return {
  "folke/which-key.nvim",
  event = { "VeryLazy" },
  opts = {
    preset = "modern",
    delay = vim.o.timeoutlen,
    triggers = {
      { "<auto>", mode = "nixso" },
    },
    plugins = {
      marks = true,
      registers = true,
      spelling = {
        enabled = true,
        suggestions = 20,
      },
      presets = {
        motions = false,
        operators = false,
        text_objects = true,
        windows = true,
        nav = true,
        z = true,
        g = true,
      },
    },
    win = {
      border = "none",
      padding = { 1, 2 },
      wo = { winblend = 0 },
    },
    expand = 1,
    spec = {
      { "<leader>a", group = "AI Tools", icon = "üß†" },
      { "<leader>b", group = "Buffers", icon = "ÔÄ¢" },
      { "<leader>c", group = "Code & Commands", icon = "ÔÑ†" },
      { "<leader>ck", group = "ScreenKey", icon = "ÔÑ†" },
      { "<leader>f", group = "Files", icon = "ÔÖõ" },
      { "<leader>g", group = "Git", icon = "Û∞ä¢" },
      { "<leader>l", group = "LSP", icon = "Û±úô" },
      { "<leader>m", group = "Markdown Book", icon = "Ó¨ù" },
      { "<leader>mb", group = "Book Indexes", icon = "Ó¨ù" },
      { "<leader>mh", group = "Heading Levels", icon = "Ó¨ù" },
      { "<leader>me", group = "Box Editor", icon = "Ó¨ù" },
      { "<leader>mn", group = "Notes", icon = "Ó¨ù" },
      { "<leader>md", group = "Header Lists", icon = "Ó¨ù" },
      { "<leader>mw", group = "Wiki", icon = "Ó¨ù" },
      { "<leader>ml", group = "Lore", icon = "Ó¨ù" },
      { "<leader>mlc", group = "Characters", icon = "Ó¨ù" },
      { "<leader>mla", group = "Abilities", icon = "Ó¨ù" },
      { "<leader>mls", group = "Spells", icon = "Ó¨ù" },
      { "<leader>mll", group = "Locations", icon = "Ó¨ù" },
      { "<leader>mlo", group = "Organizations", icon = "Ó¨ù" },
      { "<leader>mlr", group = "Rules", icon = "Ó¨ù" },
      { "<leader>n", group = "Notifications", icon = "ÔÅö" },
      { "<leader>o", group = "Options", icon = "ÔÄì" },
      { "<leader>p", group = "Packages & Profiling", icon = "Ôíá" },
      { "<leader>q", group = "Quit & Save", icon = "Ôê¶" },
      { "<leader>s", group = "Sessions", icon = "Ôëà" },
      { "<leader>w", group = "Windows & Smart Splits", icon = "Ô™≥" },
      { "<leader>wt", group = "Tabs", icon = "Ô™≥" },
      { "<leader>x", group = "Diagnostics", icon = "Ó™Ü" },
      { "<leader>y", group = "Yank", icon = "ÔÉÖ" },
    },
  },
}
